<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <title th:text="'romm ' + ${roomid}"></title>
    <link rel="shortcut icon" href="/resources/logik.png">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" rel="stylesheet">
    <link rel="stylesheet" href="/resources/index.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"
        integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/resources/base64-string.js"></script>
    <script src="/resources/lz-string.js"></script>
    <script src="/resources/lz-string.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
        integrity="sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
</head>

<body id="boody">
    <div class="chatheader">
        <span style="color: #fff, sans-serif; margin-left: 2vh;">Room: </span><span
            style="color: #fff, sans-serif; margin-left: 2vh;" th:text="${roomid}"
            id="roomid"></span>
    </div>

    <span style="margin-left: 2vh">status:</span><span id="connecting">connecting...</span> <span>|user:</span><span
        id="username" th:text="${username}"></span>

    <ul id="messageArea" style="overflow: scroll; overflow-x: hidden;">
    </ul>

    <div class="footer">
        <form id="messageForm" name="messageForm" class="messageForm">
            <input type="text" id="message" autocomplete="off" placeholder=" type /HELP to show commands" style="
                        width: 60%;
                        border: 2px solid;
                        border-radius: 10px;
                        font-size: 2vh;
                        height: 6.5vh;
                        font-display: inline-block;
                      " onchange="filterImg(this);" />
            <div class="image_chooser">
                <label for="img_form" id="select_img"
                    style="background: url(/resources/IMAGE.svg) no-repeat; height:6.5vh">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</label>
                <input type="file" id="img_form" style="display: none;" onchange="imageChoose();"
                    accept=".jpg,.png,.pdf,.mov,.mp4,.jpeg" />
            </div>
            <button type="submit" style="
                      background-color:#8441ab; 
                      color: #fff; 
                      margin-top: 15px; 
                      border-radius: 10px; 
                      height: 6.5vh;
                      width: 15vh; 
                      font-family: Readex Pro, sans-serif; 
                      font-size: 2vh;
                      display: inline-block;
                    ">Send</button>
        </form>
    </div>
    <div id="imageviewer" onclick="this.style.display='none';">
        <img id="imagecontent">
    </div>

    <div id="qrcode" onclick="this.style.display='none';">
    </div>

    <script>
        var rroomid = "[[${roomid}]]";
        var username = "[[${username}]]";
        var userid = "[[${userid}]]";
        var global = "[[${globalkey}]]";
    </script>
    <script src="/resources/ultis.js"></script>
    <script src="/resources/encrypter.js"></script>
    <script src="/resources/privatechat.js"></script>
</body>

</html>